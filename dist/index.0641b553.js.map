{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-7d957b04fd21c187.js","src/app.js","node_modules/pica/dist/pica.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";var HMR_USE_SSE = false;module.bundle.HMR_BUNDLE_ID = \"fe4256060641b553\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var HMR_USE_SSE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  if (HMR_USE_SSE) {\n    ws = new EventSource('/__parcel_hmr');\n  } else {\n    try {\n      ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n    } catch (err) {\n      if (err.message) {\n        console.error(err.message);\n      }\n      ws = {};\n    }\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error(' [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  if (ws instanceof WebSocket) {\n    ws.onerror = function (e) {\n      if (e.message) {\n        console.error(e.message);\n      }\n    };\n    ws.onclose = function () {\n      console.warn('[parcel]  Connection to the HMR server was lost');\n    };\n  }\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel]  Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n           ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div> ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div> <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","import Pica from 'pica';\n\nconst dropArea = document.getElementById(\"drop-area\");\nconst previewList = document.getElementById(\"preview-list\");\nconst downloadAllButton = document.querySelector(\".download-all\");\nconst resolutionSelect = document.querySelector(\".resolution-select\");\nconst resolutionDropdown = document.getElementById(\"resolution-dropdown\");\nconst applyResolutionButton = document.getElementById(\"apply-resolution\");\nconst uploadButton = document.getElementById(\"upload-button\");\nconst fileInput = document.getElementById(\"file-input\");\nconst customResWidth = document.getElementById(\"width\");\nconst customResHeight = document.getElementById(\"height\");\nconst loader = document.querySelector(\".loader\");\nconst fileCounter = document.querySelector(\".file-counter\");\nconst fileCounterContent = document.querySelector(\".file-counter p\");\nconst finishedHeading = document.querySelector(\".finished-heading\");\nlet items = [];\nlet itemIdCounter = 0;\nlet cropSize = {\n  \"width\": null,\n  \"height\": null\n};\nlet previewTimer = null;\nlet currentGlobalSize = null;\n\n// Initialize Pica\nconst pica = Pica();\n\n// Drag and drop events\ndropArea.addEventListener(\"dragover\", (e) => {\n  e.preventDefault();\n  dropArea.classList.add(\"drag-over\");\n});\n\ndropArea.addEventListener(\"dragleave\", () => dropArea.classList.remove(\"drag-over\"));\n\ndropArea.addEventListener(\"drop\", (e) => {\n  e.preventDefault();\n  dropArea.classList.remove(\"drag-over\");\n  handleIncomingFiles(e.dataTransfer.files);\n  resolutionSelect.classList.remove('hidden');\n  updateFileCounter();\n});\n\nuploadButton.addEventListener(\"click\", () => fileInput.click());\nfileInput.addEventListener(\"change\", (e) => {\n  handleIncomingFiles(e.target.files);\n  fileInput.value = \"\";\n});\nresolutionDropdown.addEventListener(\"change\", schedulePreviewUpdate);\ncustomResWidth.addEventListener(\"input\", schedulePreviewUpdate);\ncustomResHeight.addEventListener(\"input\", schedulePreviewUpdate);\n\nfunction handleIncomingFiles(fileList) {\n  Array.from(fileList).forEach(file => {\n    addItem(file);\n  });\n  resolutionSelect.classList.remove('hidden');\n  updateFileCounter();\n  schedulePreviewUpdate();\n}\n\nfunction handleFiles(cropSize) {\n  if (items.length === 0) {\n    alert(\"No images to crop\");\n    return;\n  }\n  fileCounterContent.innerText = `Cropping...`;\n  loader.classList.remove('hidden');\n  resolutionSelect.classList.add('hidden');\n  items.forEach(item => {\n    const sizeToUse = getItemTargetSize(item, cropSize);\n    if (!sizeToUse) return;\n    if (item.status === \"ready\" && item.cropSize &&\n        item.cropSize.width === sizeToUse.width &&\n        item.cropSize.height === sizeToUse.height) {\n      return;\n    }\n    item.cropSize = { width: sizeToUse.width, height: sizeToUse.height };\n    processItem(item);\n  });\n}\n\nfunction handleLoader() {\n  const processingCount = items.filter(item => item.status === \"processing\").length;\n  if (processingCount === 0) {\n    loader.classList.add('hidden');\n  }\n}\n\nfunction isImagePlural(files) {\n  if (files.length > 1) {\n    return \"images\";\n  } else {\n    return \"image\";\n  }\n}\n\nfunction handleEnableFileCounter(files) {\n  fileCounterContent.innerText = `${files.length} ${isImagePlural(files)} ready for cropping`;\n  fileCounter.style.backgroundColor = \"#6cc5e9\"\n  fileCounter.classList.remove(\"hidden\");\n}\n\nfunction handleDisableFileCounter(files) {\n  fileCounterContent.innerText = `${files.length} ${isImagePlural(files)} cropped`;\n  fileCounter.style.backgroundColor = \"#94d600\"\n}\n\nfunction updateFileCounter() {\n  if (items.length === 0) {\n    fileCounter.classList.add(\"hidden\");\n    return;\n  }\n  const readyCount = items.filter(item => item.status === \"ready\").length;\n  const queuedCount = items.filter(item => item.status === \"queued\").length;\n  const pendingCount = items.filter(item => item.status === \"pending\").length;\n  const processingCount = items.filter(item => item.status === \"processing\").length;\n  if (processingCount > 0) {\n    fileCounterContent.innerText = `Cropping ${processingCount} ${isImagePlural(items)}`;\n    fileCounter.style.backgroundColor = \"#6cc5e9\";\n  } else if (pendingCount > 0) {\n    fileCounterContent.innerText = `${pendingCount} ${isImagePlural(items)} ready to apply`;\n    fileCounter.style.backgroundColor = \"#f9d04a\";\n  } else if (readyCount > 0) {\n    fileCounterContent.innerText = `${readyCount} ${isImagePlural(items)} ready`;\n    fileCounter.style.backgroundColor = \"#94d600\";\n  } else {\n    fileCounterContent.innerText = `${queuedCount} ${isImagePlural(items)} ready for cropping`;\n    fileCounter.style.backgroundColor = \"#6cc5e9\";\n  }\n  fileCounter.classList.remove(\"hidden\");\n  updateDownloadAllVisibility();\n  updateApplyButtonLabel();\n}\n\nfunction processItem(item) {\n  setItemState(item, \"processing\");\n  updateFileCounter();\n  new Compressor(item.file, {\n    quality: 0.8, // Set compression quality (0-1)\n    success: (compressedFile) => {\n      const reader = new FileReader();\n      reader.onload = () => createPreview(reader.result, compressedFile, item);\n      reader.readAsDataURL(compressedFile);\n    },\n    error(err) {\n      console.error(`Error compressing ${item.file.name}:`, err);\n    }\n  });\n}\n\nfunction handleUserEntry() {\n  if (resolutionDropdown.value && (customResWidth.value || customResHeight.value)) {\n    console.log(Boolean(resolutionDropdown.value));\n    \n    alert(\"Please use only the dropdown or a custom size\");\n  } else if (customResWidth.value && customResHeight.value) {\n    cropSize.width = customResWidth.value;\n    cropSize.height = customResHeight.value;\n    currentGlobalSize = { width: parseInt(cropSize.width, 10), height: parseInt(cropSize.height, 10) };\n    handleFiles(cropSize);\n  } else if (resolutionDropdown.value) {\n    let selectedResolution = resolutionDropdown.value.split(\"x\");\n    cropSize.width = parseInt(selectedResolution[0]);\n    cropSize.height = parseInt(selectedResolution[1]);\n    currentGlobalSize = { width: cropSize.width, height: cropSize.height };\n    handleFiles(cropSize);\n  } else {\n    const hasCustomPending = items.some(item => item.sizeMode === \"custom\" && item.cropSize);\n    if (hasCustomPending) {\n      handleFiles(null);\n      return;\n    }\n    alert(\"Please select a size or enter a custom size.\");\n  }\n}\n\n// Use dropdown selection for resolution when no size in filename\napplyResolutionButton.onclick = () => {\n  handleUserEntry();\n};\n\n// Create preview with Smartcrop for cropping accuracy\n\nfunction createPreview(imageSrc, file, item) {\n  const img = new Image();\n  img.src = imageSrc;\n  img.onload = () => {\n    const useExistingCrop = item.autoCrop &&\n      item.autoCropSize &&\n      item.autoCropSize.width === item.cropSize.width &&\n      item.autoCropSize.height === item.cropSize.height;\n    const cropPromise = useExistingCrop\n      ? Promise.resolve({ topCrop: item.autoCrop })\n      : smartcrop.crop(img, { width: item.cropSize.width, height: item.cropSize.height });\n\n    cropPromise.then(result => {\n      const crop = result.topCrop;\n      item.autoCrop = crop;\n      item.autoCropSize = { width: item.cropSize.width, height: item.cropSize.height };\n      item.originalWidth = img.width;\n      item.originalHeight = img.height;\n      updateItemCropOverlays(item);\n\n      // Create an offscreen canvas to apply the crop\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = crop.width;\n      canvas.height = crop.height;\n      const ctx = canvas.getContext(\"2d\");\n\n      // Draw the optimal crop area\n      ctx.drawImage(\n        img,\n        crop.x, crop.y, crop.width, crop.height,  // Source crop area from Smartcrop\n        0, 0, canvas.width, canvas.height         // Draw on entire canvas\n      );\n      \n\n      const downscaleCanvas = document.createElement(\"canvas\");\n      downscaleCanvas.width = item.cropSize.width;\n      downscaleCanvas.height = item.cropSize.height;\n\n      // Use Pica to resize the cropped image to the target dimensions (cropSize)\n      pica.resize(canvas, downscaleCanvas, {\n        unsharpAmount: 80,     // Optional: Use unsharp mask for quality\n        unsharpThreshold: 100,   // Optional: Set threshold for unsharp mask\n        quality: 3,            // Use the best quality option\n      }).then(() => {\n        // Convert resized canvas to Blob (JPEG format)\n        downscaleCanvas.toBlob((blob) => {\n          const croppedImageURL = URL.createObjectURL(blob);\n          item.blob = blob;\n          updateItemPreview(item, croppedImageURL);\n          handleLoader();\n          updateFileCounter();\n        }, \"image/jpeg\", 0.9);  // Set JPEG quality to 90%\n      }).catch((err) => {\n        console.error(\"Error resizing image:\", err);\n      });\n    });\n  };\n}\n\nfunction addItem(file) {\n  const id = ++itemIdCounter;\n  const previewUrl = URL.createObjectURL(file);\n  const item = {\n    id,\n    file,\n    previewUrl,\n    status: \"queued\",\n    cropSize: null,\n    blob: null,\n    croppedUrl: null,\n    autoCrop: null,\n    autoCropSize: null,\n    originalWidth: null,\n    originalHeight: null,\n    sizeMode: \"global\",\n    el: null,\n    statusEl: null,\n    imgEl: null,\n    originalImgEl: null,\n    overlayEl: null,\n    shadeEls: null,\n    cropBoxEl: null,\n    thumbWrapEl: null,\n    sizeSelectEl: null,\n    sizeResetEl: null,\n    downloadBtn: null\n  };\n  items.push(item);\n  createListItem(item);\n  updateFileCounter();\n}\n\nfunction createListItem(item) {\n  const listItem = document.createElement(\"li\");\n  listItem.classList.add(\"queue-item\");\n  listItem.dataset.id = item.id;\n  const thumbWrap = document.createElement(\"div\");\n  thumbWrap.classList.add(\"thumb-wrap\");\n  const croppedImage = document.createElement(\"img\");\n  const originalImage = document.createElement(\"img\");\n  const overlay = document.createElement(\"div\");\n  const shadeTop = document.createElement(\"div\");\n  const shadeRight = document.createElement(\"div\");\n  const shadeBottom = document.createElement(\"div\");\n  const shadeLeft = document.createElement(\"div\");\n  const cropBox = document.createElement(\"div\");\n  const imageInfoContainer = document.createElement(\"div\");\n  const sizeRow = document.createElement(\"div\");\n  const imageNameInfo = document.createElement(\"p\");\n  const imageStatus = document.createElement(\"span\");\n  const imageSizeDelta = document.createElement(\"p\");\n  const statusHelp = document.createElement(\"p\");\n  imageInfoContainer.classList.add(\"image-info\");\n  imageNameInfo.classList.add(\"image-name\");\n  imageStatus.classList.add(\"image-status\");\n  imageNameInfo.innerText = item.file.name;\n  imageStatus.innerText = \"Queued\";\n  imageSizeDelta.classList.add(\"image-size-delta\");\n  statusHelp.classList.add(\"status-help\");\n  imageSizeDelta.innerText = `File size: ${formatFileSize(item.file.size)}  `;\n  croppedImage.classList.add(\"thumb-cropped\");\n  originalImage.classList.add(\"thumb-original\");\n  overlay.classList.add(\"thumb-overlay\");\n  cropBox.classList.add(\"thumb-crop-box\");\n  shadeTop.classList.add(\"thumb-shade\", \"shade-top\");\n  shadeRight.classList.add(\"thumb-shade\", \"shade-right\");\n  shadeBottom.classList.add(\"thumb-shade\", \"shade-bottom\");\n  shadeLeft.classList.add(\"thumb-shade\", \"shade-left\");\n  croppedImage.src = item.previewUrl;\n  originalImage.src = item.previewUrl;\n  overlay.appendChild(shadeTop);\n  overlay.appendChild(shadeRight);\n  overlay.appendChild(shadeBottom);\n  overlay.appendChild(shadeLeft);\n  overlay.appendChild(cropBox);\n  thumbWrap.appendChild(croppedImage);\n  thumbWrap.appendChild(originalImage);\n  thumbWrap.appendChild(overlay);\n  imageInfoContainer.appendChild(imageStatus);\n  imageInfoContainer.appendChild(imageNameInfo);\n  imageInfoContainer.appendChild(statusHelp);\n  sizeRow.classList.add(\"size-row\");\n  const sizeSelect = buildItemSizeSelect(item);\n  const sizeReset = document.createElement(\"button\");\n  sizeReset.classList.add(\"item-size-reset\");\n  sizeReset.innerText = \"Reset\";\n  sizeReset.disabled = true;\n  sizeReset.onclick = () => resetItemSize(item);\n  sizeRow.appendChild(sizeSelect);\n  sizeRow.appendChild(sizeReset);\n  imageInfoContainer.appendChild(sizeRow);\n  listItem.appendChild(thumbWrap);\n  listItem.appendChild(imageInfoContainer);\n\n  const downloadButton = document.createElement(\"button\");\n  downloadButton.classList.add(\"download-button\");\n  downloadButton.disabled = true;\n  const downloadIcon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const downloadIconPath1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  const downloadIconPath2 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n\n  downloadIcon.setAttribute(\"viewBox\", \"0 0 29.978 29.978\");\n  downloadIcon.setAttribute(\"width\", \"20\");\n  downloadIcon.setAttribute(\"height\", \"20\");\n  downloadIconPath1.setAttribute(\"d\", \"M25.462,19.105v6.848H4.515v-6.848H0.489v8.861c0,1.111,0.9,2.012,2.016,2.012h24.967c1.115,0,2.016-0.9,2.016-2.012v-8.861H25.462z\");\n  downloadIconPath2.setAttribute(\"d\",\"M14.62,18.426l-5.764-6.965c0,0-0.877-0.828,0.074-0.828s3.248,0,3.248,0s0-0.557,0-1.416c0-2.449,0-6.906,0-8.723c0,0-0.129-0.494,0.615-0.494c0.75,0,4.035,0,4.572,0c0.536,0,0.524,0.416,0.524,0.416c0,1.762,0,6.373,0,8.742c0,0.768,0,1.266,0,1.266s1.842,0,2.998,0c1.154,0,0.285,0.867,0.285,0.867s-4.904,6.51-5.588,7.193C15.092,18.979,14.62,18.426,14.62,18.426z\");\n  downloadIcon.appendChild(downloadIconPath1);\n  downloadIcon.appendChild(downloadIconPath2);\n  downloadButton.appendChild(downloadIcon);\n  downloadButton.onclick = () => downloadImage(item);\n\n  const removeButton = document.createElement(\"button\");\n  removeButton.classList.add(\"remove-button\");\n  const removeIcon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const removeIconPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  removeIcon.setAttribute(\"viewBox\", \"0 0 24 24\");\n  removeIcon.setAttribute(\"width\", \"22\");\n  removeIcon.setAttribute(\"height\", \"22\");\n  removeIconPath.setAttribute(\"d\", \"M6.4 5.3 12 10.9l5.6-5.6 1.1 1.1L13.1 12l5.6 5.6-1.1 1.1L12 13.1l-5.6 5.6-1.1-1.1L10.9 12 5.3 6.4z\");\n  removeIcon.appendChild(removeIconPath);\n  removeButton.appendChild(removeIcon);\n  removeButton.setAttribute(\"aria-label\", \"Remove image\");\n  removeButton.title = \"Remove image\";\n  listItem.appendChild(removeButton);\n  removeButton.onclick = () => removeItem(item.id);\n\n  const actionsContainer = document.createElement(\"div\");\n  actionsContainer.classList.add(\"item-actions\");\n  actionsContainer.appendChild(imageSizeDelta);\n  actionsContainer.appendChild(downloadButton);\n  imageInfoContainer.appendChild(actionsContainer);\n  finishedHeading.classList.remove('hidden');\n\n  previewList.appendChild(listItem);\n  item.el = listItem;\n  item.statusEl = imageStatus;\n  item.statusHelpEl = statusHelp;\n  item.imgEl = croppedImage;\n  item.originalImgEl = originalImage;\n  item.overlayEl = overlay;\n  item.shadeEls = { shadeTop, shadeRight, shadeBottom, shadeLeft };\n  item.cropBoxEl = cropBox;\n  item.thumbWrapEl = thumbWrap;\n  item.sizeSelectEl = sizeSelect;\n  item.sizeResetEl = sizeReset;\n  item.downloadBtn = downloadButton;\n  item.sizeDeltaEl = imageSizeDelta;\n  updateItemStatusChip(item);\n  updateItemSizeSelectLabel(item);\n  initCropDrag(item);\n}\n\nfunction setItemState(item, state) {\n  item.status = state;\n  updateItemStatusChip(item);\n  if (state === \"ready\") {\n    item.downloadBtn.disabled = false;\n  } else {\n    item.downloadBtn.disabled = true;\n  }\n  updateApplyButtonLabel();\n}\n\nfunction updateItemPreview(item, croppedImageURL) {\n  if (item.croppedUrl) {\n    URL.revokeObjectURL(item.croppedUrl);\n  }\n  item.croppedUrl = croppedImageURL;\n  item.imgEl.src = croppedImageURL;\n  setItemState(item, \"ready\");\n  updateItemSizeDelta(item);\n  updateDownloadAllVisibility();\n}\n\nfunction updateItemSizeDelta(item) {\n  if (!item.sizeDeltaEl) return;\n  const originalSize = item.file.size;\n  if (!item.blob) {\n    item.sizeDeltaEl.innerText = `File size: ${formatFileSize(originalSize)}  `;\n    return;\n  }\n  const newSize = item.blob.size;\n  const delta = originalSize === 0 ? 0 : Math.round((1 - newSize / originalSize) * 100);\n  const sign = delta >= 0 ? \"reduced\" : \"increased\";\n  item.sizeDeltaEl.innerText = `File size: ${formatFileSize(originalSize)}  ${formatFileSize(newSize)} (${Math.abs(delta)}% ${sign})`;\n}\n\nfunction updateItemCropOverlays(item) {\n  if (!item.autoCrop || !item.originalWidth || !item.originalHeight) return;\n  updateItemCropOverlayForWrap(item, item.thumbWrapEl, item.cropBoxEl, item.shadeEls);\n}\n\nfunction updateItemCropOverlayForWrap(item, wrapEl, cropBoxEl, shadeEls) {\n  if (!wrapEl || !cropBoxEl || !shadeEls) return;\n  const metrics = getWrapMetrics(item, wrapEl);\n  if (!metrics) return;\n  const cropDisplay = getDisplayCrop(item, metrics);\n\n  cropBoxEl.style.left = `${cropDisplay.x}px`;\n  cropBoxEl.style.top = `${cropDisplay.y}px`;\n  cropBoxEl.style.width = `${cropDisplay.width}px`;\n  cropBoxEl.style.height = `${cropDisplay.height}px`;\n\n  shadeEls.shadeTop.style.left = `0px`;\n  shadeEls.shadeTop.style.top = `0px`;\n  shadeEls.shadeTop.style.width = `${metrics.wrapWidth}px`;\n  shadeEls.shadeTop.style.height = `${cropDisplay.y}px`;\n\n  shadeEls.shadeBottom.style.left = `0px`;\n  shadeEls.shadeBottom.style.top = `${cropDisplay.y + cropDisplay.height}px`;\n  shadeEls.shadeBottom.style.width = `${metrics.wrapWidth}px`;\n  shadeEls.shadeBottom.style.height = `${metrics.wrapHeight - (cropDisplay.y + cropDisplay.height)}px`;\n\n  shadeEls.shadeLeft.style.left = `0px`;\n  shadeEls.shadeLeft.style.top = `${cropDisplay.y}px`;\n  shadeEls.shadeLeft.style.width = `${cropDisplay.x}px`;\n  shadeEls.shadeLeft.style.height = `${cropDisplay.height}px`;\n\n  shadeEls.shadeRight.style.left = `${cropDisplay.x + cropDisplay.width}px`;\n  shadeEls.shadeRight.style.top = `${cropDisplay.y}px`;\n  shadeEls.shadeRight.style.width = `${metrics.wrapWidth - (cropDisplay.x + cropDisplay.width)}px`;\n  shadeEls.shadeRight.style.height = `${cropDisplay.height}px`;\n}\n\nfunction getPreviewCropSize() {\n  if (resolutionDropdown.value && (customResWidth.value || customResHeight.value)) {\n    return null;\n  }\n  if (customResWidth.value && customResHeight.value) {\n    return { width: parseInt(customResWidth.value, 10), height: parseInt(customResHeight.value, 10) };\n  }\n  if (resolutionDropdown.value) {\n    const selectedResolution = resolutionDropdown.value.split(\"x\");\n    return { width: parseInt(selectedResolution[0], 10), height: parseInt(selectedResolution[1], 10) };\n  }\n  return null;\n}\n\nfunction schedulePreviewUpdate() {\n  if (previewTimer) {\n    clearTimeout(previewTimer);\n  }\n  previewTimer = setTimeout(() => {\n    const previewSize = getPreviewCropSize();\n    if (!previewSize) return;\n    const sizeChanged = !currentGlobalSize ||\n      currentGlobalSize.width !== previewSize.width ||\n      currentGlobalSize.height !== previewSize.height;\n    currentGlobalSize = { width: previewSize.width, height: previewSize.height };\n    items.forEach(item => {\n      if (item.sizeMode === \"custom\") {\n        updateItemSizeSelectLabel(item);\n        return;\n      }\n      if (sizeChanged && item.status === \"ready\") {\n        clearItemReadyState(item);\n      }\n      if (item.status === \"queued\" || sizeChanged) {\n        item.cropSize = { width: previewSize.width, height: previewSize.height };\n        setItemState(item, \"pending\");\n      }\n      updateItemSizeSelectLabel(item);\n      generateAutoCropPreview(item, previewSize);\n    });\n    updateFileCounter();\n  }, 250);\n}\n\nfunction generateAutoCropPreview(item, previewSize) {\n  if (!item.previewUrl) return;\n  if (item.autoCropSize &&\n      item.autoCropSize.width === previewSize.width &&\n      item.autoCropSize.height === previewSize.height) {\n    updateItemCropOverlays(item);\n    return;\n  }\n  const img = new Image();\n  img.src = item.previewUrl;\n  img.onload = () => {\n    smartcrop.crop(img, { width: previewSize.width, height: previewSize.height }).then(result => {\n      item.autoCrop = result.topCrop;\n      item.autoCropSize = { width: previewSize.width, height: previewSize.height };\n      item.originalWidth = img.width;\n      item.originalHeight = img.height;\n      updateItemCropOverlays(item);\n    });\n  };\n}\n\nfunction updateItemStatusChip(item) {\n  if (!item.statusEl || !item.el) return;\n  item.statusEl.classList.remove(\"status-queued\", \"status-pending\", \"status-processing\", \"status-ready\");\n  item.el.classList.remove(\"state-queued\", \"state-pending\", \"state-processing\", \"state-ready\");\n  let label = \"\";\n  let helpText = \"\";\n  if (item.status === \"queued\") {\n    label = \"Queued\";\n    helpText = \"Select a size to preview the crop.\";\n    item.statusEl.classList.add(\"status-queued\");\n    item.el.classList.add(\"state-queued\");\n  } else if (item.status === \"pending\") {\n    label = \"Pending\";\n    helpText = \"Preview ready. Click Apply to crop.\";\n    item.statusEl.classList.add(\"status-pending\");\n    item.el.classList.add(\"state-pending\");\n  } else if (item.status === \"processing\") {\n    label = \"Processing\";\n    helpText = \"Cropping and compressing...\";\n    item.statusEl.classList.add(\"status-processing\");\n    item.el.classList.add(\"state-processing\");\n  } else if (item.status === \"ready\") {\n    label = \"Ready\";\n    helpText = \"Ready to download.\";\n    item.statusEl.classList.add(\"status-ready\");\n    item.el.classList.add(\"state-ready\");\n  }\n  item.statusEl.innerText = label;\n  if (item.statusHelpEl) {\n    item.statusHelpEl.innerText = helpText;\n  }\n}\n\nfunction updateApplyButtonLabel() {\n  const pendingCount = items.filter(item => item.status === \"pending\").length;\n  if (pendingCount > 0) {\n    resolutionSelect.classList.remove('hidden');\n    applyResolutionButton.disabled = false;\n    applyResolutionButton.innerText = `Apply resolution (${pendingCount})`;\n  } else {\n    applyResolutionButton.disabled = true;\n    applyResolutionButton.innerText = \"Apply resolution\";\n  }\n}\n\nfunction clearItemReadyState(item) {\n  if (item.croppedUrl) {\n    URL.revokeObjectURL(item.croppedUrl);\n  }\n  item.croppedUrl = null;\n  item.blob = null;\n  if (item.cropSize) {\n    setItemState(item, \"pending\");\n  } else {\n    setItemState(item, \"queued\");\n  }\n  updateItemSizeDelta(item);\n  updateFileCounter();\n}\n\nfunction buildItemSizeSelect(item) {\n  const select = document.createElement(\"select\");\n  select.classList.add(\"item-size-select\");\n  const followOption = document.createElement(\"option\");\n  followOption.value = \"\";\n  followOption.innerText = \"Follow global size\";\n  select.appendChild(followOption);\n  Array.from(resolutionDropdown.options).forEach(option => {\n    if (option.disabled) {\n      const opt = document.createElement(\"option\");\n      opt.disabled = true;\n      opt.innerText = option.text;\n      select.appendChild(opt);\n      return;\n    }\n    if (option.value === \"\") return;\n    const opt = document.createElement(\"option\");\n    opt.value = option.value;\n    opt.innerText = option.text;\n    select.appendChild(opt);\n  });\n  select.addEventListener(\"change\", () => {\n    if (!select.value) {\n      item.sizeMode = \"global\";\n      item.sizeResetEl.disabled = true;\n      if (item.blob) clearItemReadyState(item);\n      if (currentGlobalSize) {\n        item.cropSize = { width: currentGlobalSize.width, height: currentGlobalSize.height };\n        setItemState(item, \"pending\");\n        generateAutoCropPreview(item, item.cropSize);\n      } else {\n        item.cropSize = null;\n        setItemState(item, \"queued\");\n      }\n    } else {\n      const parts = select.value.split(\"x\");\n      item.sizeMode = \"custom\";\n      item.sizeResetEl.disabled = false;\n      if (item.blob) clearItemReadyState(item);\n      item.cropSize = { width: parseInt(parts[0], 10), height: parseInt(parts[1], 10) };\n      setItemState(item, \"pending\");\n      generateAutoCropPreview(item, item.cropSize);\n    }\n    updateItemSizeSelectLabel(item);\n    updateFileCounter();\n  });\n  return select;\n}\n\nfunction resetItemSize(item) {\n  if (!item.sizeSelectEl) return;\n  item.sizeSelectEl.value = \"\";\n  item.sizeMode = \"global\";\n  item.sizeResetEl.disabled = true;\n  if (item.blob) clearItemReadyState(item);\n  if (currentGlobalSize) {\n    item.cropSize = { width: currentGlobalSize.width, height: currentGlobalSize.height };\n    setItemState(item, \"pending\");\n    generateAutoCropPreview(item, item.cropSize);\n  } else {\n    item.cropSize = null;\n    setItemState(item, \"queued\");\n  }\n  updateItemSizeSelectLabel(item);\n  updateFileCounter();\n}\n\nfunction updateItemSizeSelectLabel(item) {\n  if (!item.sizeSelectEl) return;\n  const firstOption = item.sizeSelectEl.options[0];\n  if (!currentGlobalSize) {\n    firstOption.innerText = \"Follow global size\";\n  } else {\n    firstOption.innerText = `Follow global (${currentGlobalSize.width}x${currentGlobalSize.height})`;\n  }\n}\n\nfunction getItemTargetSize(item, globalSize) {\n  if (item.sizeMode === \"custom\" && item.cropSize) return item.cropSize;\n  if (globalSize && globalSize.width && globalSize.height) {\n    return { width: globalSize.width, height: globalSize.height };\n  }\n  return null;\n}\n\nfunction getWrapMetrics(item, wrapEl) {\n  if (!wrapEl) return null;\n  const wrapWidth = wrapEl.clientWidth;\n  const wrapHeight = wrapEl.clientHeight;\n  if (!wrapWidth || !wrapHeight) return null;\n  const scale = Math.min(wrapWidth / item.originalWidth, wrapHeight / item.originalHeight);\n  const displayWidth = item.originalWidth * scale;\n  const displayHeight = item.originalHeight * scale;\n  const offsetX = (wrapWidth - displayWidth) / 2;\n  const offsetY = (wrapHeight - displayHeight) / 2;\n  return { wrapWidth, wrapHeight, scale, displayWidth, displayHeight, offsetX, offsetY };\n}\n\nfunction getDisplayCrop(item, metrics) {\n  return {\n    x: item.autoCrop.x * metrics.scale + metrics.offsetX,\n    y: item.autoCrop.y * metrics.scale + metrics.offsetY,\n    width: item.autoCrop.width * metrics.scale,\n    height: item.autoCrop.height * metrics.scale\n  };\n}\n\nfunction initCropDrag(item) {\n  if (!item.cropBoxEl || !item.thumbWrapEl) return;\n  let dragState = null;\n  const onPointerMove = (e) => {\n    if (!dragState) return;\n    const dx = e.clientX - dragState.startX;\n    const dy = e.clientY - dragState.startY;\n    const nextX = clamp(dragState.startCropX + dx, dragState.bounds.minX, dragState.bounds.maxX);\n    const nextY = clamp(dragState.startCropY + dy, dragState.bounds.minY, dragState.bounds.maxY);\n    item.autoCrop.x = (nextX - dragState.metrics.offsetX) / dragState.metrics.scale;\n    item.autoCrop.y = (nextY - dragState.metrics.offsetY) / dragState.metrics.scale;\n    updateItemCropOverlays(item);\n  };\n  const onPointerUp = () => {\n    if (!dragState) return;\n    dragState = null;\n    item.el.classList.remove(\"is-dragging\");\n    window.removeEventListener(\"pointermove\", onPointerMove);\n    window.removeEventListener(\"pointerup\", onPointerUp);\n  };\n  item.cropBoxEl.addEventListener(\"pointerdown\", (e) => {\n    if (!item.autoCrop || !item.thumbWrapEl) return;\n    if (item.blob) clearItemReadyState(item);\n    const metrics = getWrapMetrics(item, item.thumbWrapEl);\n    if (!metrics) return;\n    const cropDisplay = getDisplayCrop(item, metrics);\n    dragState = {\n      startX: e.clientX,\n      startY: e.clientY,\n      startCropX: cropDisplay.x,\n      startCropY: cropDisplay.y,\n      metrics,\n      bounds: {\n        minX: metrics.offsetX,\n        minY: metrics.offsetY,\n        maxX: metrics.offsetX + metrics.displayWidth - cropDisplay.width,\n        maxY: metrics.offsetY + metrics.displayHeight - cropDisplay.height\n      }\n    };\n    item.el.classList.add(\"is-dragging\");\n    item.cropBoxEl.setPointerCapture(e.pointerId);\n    window.addEventListener(\"pointermove\", onPointerMove);\n    window.addEventListener(\"pointerup\", onPointerUp);\n  });\n}\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\n\nfunction formatFileSize(bytes) {\n  if (bytes < 1024) return `${bytes} B`;\n  const kb = bytes / 1024;\n  if (kb < 1024) return `${kb.toFixed(1)} KB`;\n  const mb = kb / 1024;\n  return `${mb.toFixed(2)} MB`;\n}\n\nfunction removeItem(id) {\n  const index = items.findIndex(item => item.id === id);\n  if (index === -1) return;\n  const item = items[index];\n  if (item.previewUrl) URL.revokeObjectURL(item.previewUrl);\n  if (item.croppedUrl) URL.revokeObjectURL(item.croppedUrl);\n  if (item.el) item.el.remove();\n  items.splice(index, 1);\n  if (items.length === 0) {\n    downloadAllButton.classList.add('hidden');\n    finishedHeading.classList.add('hidden');\n    loader.classList.add('hidden');\n  }\n  updateFileCounter();\n}\n\nfunction updateDownloadAllVisibility() {\n  const readyCount = items.filter(item => item.status === \"ready\").length;\n  if (readyCount > 0) {\n    downloadAllButton.classList.remove('hidden');\n  } else {\n    downloadAllButton.classList.add('hidden');\n  }\n}\n\nfunction downloadImage(item) {\n  if (!item.blob) return;\n  const link = document.createElement(\"a\");\n  link.href = URL.createObjectURL(item.blob);\n  //link.download = `cropped_${fileName.replace(/\\.[^/.]+$/, \".jpg\")}`; // Replace extension with .jpg\n  link.download = `${item.file.name.replace(/\\.[^/.]+$/, \"\")}_${item.cropSize.width}x${item.cropSize.height}px.jpg`; // Replace extension with .jpg\n  link.click();\n}\n\ndownloadAllButton.onclick = () => downloadAllCroppedImages();\n\nfunction downloadAllCroppedImages() {\n  const zip = new JSZip();\n  //croppedImages.forEach(image => zip.file(`${cropSize.width}x${cropSize.height}_${image.name.replace(/\\.[^/.]+$/, \".jpg\")}`, image.blob));\n  items\n    .filter(item => item.status === \"ready\")\n    .forEach(item => zip.file(`${item.file.name.replace(/\\.[^/.]+$/, \"\")}_${item.cropSize.width}x${item.cropSize.height}.jpg`, item.blob));\n  zip.generateAsync({ type: \"blob\" }).then(blob => {\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = \"all_cropped_images.zip\";\n    link.click();\n  });\n}\n","/*!\n\npica\nhttps://github.com/nodeca/pica\n\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.pica = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n// Collection of math functions\n//\n// 1. Combine components together\n// 2. Has async init to load wasm modules\n//\n'use strict';\n\nvar Multimath = _dereq_('multimath');\n\nvar mm_unsharp_mask = _dereq_('./mm_unsharp_mask');\n\nvar mm_resize = _dereq_('./mm_resize');\n\nfunction MathLib(requested_features) {\n  var __requested_features = requested_features || [];\n\n  var features = {\n    js: __requested_features.indexOf('js') >= 0,\n    wasm: __requested_features.indexOf('wasm') >= 0\n  };\n  Multimath.call(this, features);\n  this.features = {\n    js: features.js,\n    wasm: features.wasm && this.has_wasm()\n  };\n  this.use(mm_unsharp_mask);\n  this.use(mm_resize);\n}\n\nMathLib.prototype = Object.create(Multimath.prototype);\nMathLib.prototype.constructor = MathLib;\n\nMathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {\n  var result = this.resize(options, cache);\n\n  if (options.unsharpAmount) {\n    this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n  }\n\n  return result;\n};\n\nmodule.exports = MathLib;\n\n},{\"./mm_resize\":4,\"./mm_unsharp_mask\":9,\"multimath\":19}],2:[function(_dereq_,module,exports){\n// Resize convolvers, pure JS implementation\n//\n'use strict'; // Precision of fixed FP values\n//var FIXED_FRAC_BITS = 14;\n\nfunction clampTo8(i) {\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampNegative(i) {\n  return i >= 0 ? i : 0;\n} // Convolve image data in horizontal direction. Can be used for:\n//\n// 1. bitmap with premultiplied alpha\n// 2. bitmap without alpha (all values 255)\n//\n// Notes:\n//\n// - output is transposed\n// - output resolution is ~15 bits per channel(for better precision).\n//\n\n\nfunction convolveHor(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Store 15 bits between passes for better precision\n      // Instead of shift to 14 (FIXED_FRAC_BITS), shift to 7 only\n      //\n\n\n      dest[destOffset + 3] = clampNegative(a >> 7);\n      dest[destOffset + 2] = clampNegative(b >> 7);\n      dest[destOffset + 1] = clampNegative(g >> 7);\n      dest[destOffset] = clampNegative(r >> 7);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Supplementary method for `convolveHor()`\n//\n\n\nfunction convolveVert(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Sync with premultiplied version for exact result match\n\n\n      r >>= 7;\n      g >>= 7;\n      b >>= 7;\n      a >>= 7; // Bring this value back in range + round result.\n      //\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14);\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Premultiply & convolve image data in horizontal direction. Can be used for:\n//\n// - Any bitmap data, extracted with `.getImageData()` method (with\n//   non-premultiplied alpha)\n//\n// For images without alpha channel this method is slower than `convolveHor()`\n//\n\n\nfunction convolveHorWithPre(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a, alpha;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        alpha = src[srcPtr + 3];\n        a = a + filterVal * alpha | 0;\n        b = b + filterVal * src[srcPtr + 2] * alpha | 0;\n        g = g + filterVal * src[srcPtr + 1] * alpha | 0;\n        r = r + filterVal * src[srcPtr] * alpha | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Premultiply is (* alpha / 255).\n      // Postpone division for better performance\n\n\n      b = b / 255 | 0;\n      g = g / 255 | 0;\n      r = r / 255 | 0; // Store 15 bits between passes for better precision\n      // Instead of shift to 14 (FIXED_FRAC_BITS), shift to 7 only\n      //\n\n      dest[destOffset + 3] = clampNegative(a >> 7);\n      dest[destOffset + 2] = clampNegative(b >> 7);\n      dest[destOffset + 1] = clampNegative(g >> 7);\n      dest[destOffset] = clampNegative(r >> 7);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Supplementary method for `convolveHorWithPre()`\n//\n\n\nfunction convolveVertWithPre(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Downscale to leave room for un-premultiply\n\n\n      r >>= 7;\n      g >>= 7;\n      b >>= 7;\n      a >>= 7; // Un-premultiply\n\n      a = clampTo8(a + (1 << 13) >> 14);\n\n      if (a > 0) {\n        r = r * 255 / a | 0;\n        g = g * 255 / a | 0;\n        b = b * 255 / a | 0;\n      } // Bring this value back in range + round result.\n      // Shift value = FIXED_FRAC_BITS + 7\n      //\n\n\n      dest[destOffset + 3] = a;\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n}\n\nmodule.exports = {\n  convolveHor: convolveHor,\n  convolveVert: convolveVert,\n  convolveHorWithPre: convolveHorWithPre,\n  convolveVertWithPre: convolveVertWithPre\n};\n\n},{}],3:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],4:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'resize',\n  fn: _dereq_('./resize'),\n  wasm_fn: _dereq_('./resize_wasm'),\n  wasm_src: _dereq_('./convolve_wasm_base64')\n};\n\n},{\"./convolve_wasm_base64\":3,\"./resize\":5,\"./resize_wasm\":8}],5:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nvar _require = _dereq_('./convolve'),\n    convolveHor = _require.convolveHor,\n    convolveVert = _require.convolveVert,\n    convolveHorWithPre = _require.convolveHorWithPre,\n    convolveVertWithPre = _require.convolveVertWithPre;\n\nfunction hasAlpha(src, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    if (src[ptr] !== 255) return true;\n    ptr = ptr + 4 | 0;\n  }\n\n  return false;\n}\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nmodule.exports = function resize(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0;\n  var offsetY = options.offsetY || 0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var filter = typeof options.filter === 'undefined' ? 'mks2013' : options.filter;\n  var filtersX = createFilters(filter, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(filter, srcH, destH, scaleY, offsetY);\n  var tmp = new Uint16Array(destW * srcH * 4); // Autodetect if alpha channel exists, and use appropriate method\n\n  if (hasAlpha(src, srcW, srcH)) {\n    convolveHorWithPre(src, tmp, srcW, srcH, destW, filtersX);\n    convolveVertWithPre(tmp, dest, srcH, destW, destH, filtersY);\n  } else {\n    convolveHor(src, tmp, srcW, srcH, destW, filtersX);\n    convolveVert(tmp, dest, srcH, destW, destH, filtersY);\n    resetAlpha(dest, destW, destH);\n  }\n\n  return dest;\n};\n\n},{\"./convolve\":2,\"./resize_filter_gen\":6}],6:[function(_dereq_,module,exports){\n// Calculate convolution filters for each destination point,\n// and pack data to Int16Array:\n//\n// [ shift, length, data..., shift2, length2, data..., ... ]\n//\n// - shift - offset in src image\n// - length - filter length (in src points)\n// - data - filter values sequence\n//\n'use strict';\n\nvar FILTER_INFO = _dereq_('./resize_filter_info'); // Precision of fixed FP values\n\n\nvar FIXED_FRAC_BITS = 14;\n\nfunction toFixedPoint(num) {\n  return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n}\n\nmodule.exports = function resizeFilterGen(filter, srcSize, destSize, scale, offset) {\n  var filterFunction = FILTER_INFO.filter[filter].fn;\n  var scaleInverted = 1.0 / scale;\n  var scaleClamped = Math.min(1.0, scale); // For upscale\n  // Filter window (averaging interval), scaled to src image\n\n  var srcWindow = FILTER_INFO.filter[filter].win / scaleClamped;\n  var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n  var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n  var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n  var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n  var packedFilterPtr = 0;\n  var slowCopy = !packedFilter.subarray || !packedFilter.set; // For each destination pixel calculate source range and built filter values\n\n  for (destPixel = 0; destPixel < destSize; destPixel++) {\n    // Scaling should be done relative to central pixel point\n    srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n    srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n    srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n    filterElementSize = srcLast - srcFirst + 1;\n    floatFilter = new Float32Array(filterElementSize);\n    fxpFilter = new Int16Array(filterElementSize);\n    total = 0.0; // Fill filter values for calculated range\n\n    for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n      floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);\n      total += floatVal;\n      floatFilter[idx] = floatVal;\n    } // Normalize filter, convert to fixed point and accumulate conversion error\n\n\n    filterTotal = 0;\n\n    for (idx = 0; idx < floatFilter.length; idx++) {\n      filterVal = floatFilter[idx] / total;\n      filterTotal += filterVal;\n      fxpFilter[idx] = toFixedPoint(filterVal);\n    } // Compensate normalization error, to minimize brightness drift\n\n\n    fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal); //\n    // Now pack filter to useable form\n    //\n    // 1. Trim heading and tailing zero values, and compensate shitf/length\n    // 2. Put all to single array in this format:\n    //\n    //    [ pos shift, data length, value1, value2, value3, ... ]\n    //\n\n    leftNotEmpty = 0;\n\n    while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n      leftNotEmpty++;\n    }\n\n    if (leftNotEmpty < fxpFilter.length) {\n      rightNotEmpty = fxpFilter.length - 1;\n\n      while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n        rightNotEmpty--;\n      }\n\n      filterShift = srcFirst + leftNotEmpty;\n      filterSize = rightNotEmpty - leftNotEmpty + 1;\n      packedFilter[packedFilterPtr++] = filterShift; // shift\n\n      packedFilter[packedFilterPtr++] = filterSize; // size\n\n      if (!slowCopy) {\n        packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n        packedFilterPtr += filterSize;\n      } else {\n        // fallback for old IE < 11, without subarray/set methods\n        for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {\n          packedFilter[packedFilterPtr++] = fxpFilter[idx];\n        }\n      }\n    } else {\n      // zero data, write header only\n      packedFilter[packedFilterPtr++] = 0; // shift\n\n      packedFilter[packedFilterPtr++] = 0; // size\n    }\n  }\n\n  return packedFilter;\n};\n\n},{\"./resize_filter_info\":7}],7:[function(_dereq_,module,exports){\n// Filter definitions to build tables for\n// resizing convolvers.\n//\n// Presets for quality 0..3. Filter functions + window size\n//\n'use strict';\n\nvar filter = {\n  // Nearest neibor\n  box: {\n    win: 0.5,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n      return x < 0.5 ? 1.0 : 0.0;\n    }\n  },\n  // // Hamming\n  hamming: {\n    win: 1.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 1.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n    }\n  },\n  // Lanczos, win = 2\n  lanczos2: {\n    win: 2.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 2.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n    }\n  },\n  // Lanczos, win = 3\n  lanczos3: {\n    win: 3.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 3.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n    }\n  },\n  // Magic Kernel Sharp 2013, win = 2.5\n  // http://johncostella.com/magic/\n  mks2013: {\n    win: 2.5,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 2.5) {\n        return 0.0;\n      }\n\n      if (x >= 1.5) {\n        return -0.125 * (x - 2.5) * (x - 2.5);\n      }\n\n      if (x >= 0.5) {\n        return 0.25 * (4 * x * x - 11 * x + 7);\n      }\n\n      return 1.0625 - 1.75 * x * x;\n    }\n  }\n};\nmodule.exports = {\n  filter: filter,\n  // Legacy mapping\n  f2q: {\n    box: 0,\n    hamming: 1,\n    lanczos2: 2,\n    lanczos3: 3\n  },\n  q2f: ['box', 'hamming', 'lanczos2', 'lanczos3']\n};\n\n},{}],8:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nfunction hasAlpha(src, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    if (src[ptr] !== 255) return true;\n    ptr = ptr + 4 | 0;\n  }\n\n  return false;\n}\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nfunction asUint8Array(src) {\n  return new Uint8Array(src.buffer, 0, src.byteLength);\n}\n\nvar IS_LE = true; // should not crash everything on module load in old browsers\n\ntry {\n  IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;\n} catch (__) {}\n\nfunction copyInt16asLE(src, target, target_offset) {\n  if (IS_LE) {\n    target.set(asUint8Array(src), target_offset);\n    return;\n  }\n\n  for (var ptr = target_offset, i = 0; i < src.length; i++) {\n    var data = src[i];\n    target[ptr++] = data & 0xFF;\n    target[ptr++] = data >> 8 & 0xFF;\n  }\n}\n\nmodule.exports = function resize_wasm(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0.0;\n  var offsetY = options.offsetY || 0.0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var filter = typeof options.filter === 'undefined' ? 'mks2013' : options.filter;\n  var filtersX = createFilters(filter, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(filter, srcH, destH, scaleY, offsetY); // destination is 0 too.\n\n  var src_offset = 0;\n  var src_size = Math.max(src.byteLength, dest.byteLength); // buffer between convolve passes\n\n  var tmp_offset = this.__align(src_offset + src_size);\n\n  var tmp_size = srcH * destW * 4 * 2; // 2 bytes per channel\n\n  var filtersX_offset = this.__align(tmp_offset + tmp_size);\n\n  var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);\n\n  var alloc_bytes = filtersY_offset + filtersY.byteLength;\n\n  var instance = this.__instance('resize', alloc_bytes); //\n  // Fill memory block with data to process\n  //\n\n\n  var mem = new Uint8Array(this.__memory.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer); // 32-bit copy is much faster in chrome\n\n  var src32 = new Uint32Array(src.buffer);\n  mem32.set(src32); // We should guarantee LE bytes order. Filters are not big, so\n  // speed difference is not significant vs direct .set()\n\n  copyInt16asLE(filtersX, mem, filtersX_offset);\n  copyInt16asLE(filtersY, mem, filtersY_offset); // Now call webassembly method\n  // emsdk does method names with '_'\n\n  var fn = instance.exports.convolveHV || instance.exports._convolveHV;\n\n  if (hasAlpha(src, srcW, srcH)) {\n    fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH, 1);\n  } else {\n    fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH, 0);\n    resetAlpha(dest, destW, destH);\n  } //\n  // Copy data back to typed array\n  //\n  // 32-bit copy is much faster in chrome\n\n\n  var dest32 = new Uint32Array(dest.buffer);\n  dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW));\n  return dest;\n};\n\n},{\"./resize_filter_gen\":6}],9:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'unsharp_mask',\n  fn: _dereq_('./unsharp_mask'),\n  wasm_fn: _dereq_('./unsharp_mask_wasm'),\n  wasm_src: _dereq_('./unsharp_mask_wasm_base64')\n};\n\n},{\"./unsharp_mask\":10,\"./unsharp_mask_wasm\":11,\"./unsharp_mask_wasm_base64\":12}],10:[function(_dereq_,module,exports){\n// Unsharp mask filter\n//\n// http://stackoverflow.com/a/23322820/1031804\n// USM(O) = O + (2 * (Amount / 100) * (O - GB))\n// GB - gaussian blur.\n//\n// Image is converted from RGB to HSV, unsharp mask is applied to the\n// brightness channel and then image is converted back to RGB.\n//\n'use strict';\n\nvar glur_mono16 = _dereq_('glur/mono16');\n\nfunction hsv_v16(img, width, height) {\n  var size = width * height;\n  var out = new Uint16Array(size);\n  var r, g, b, max;\n\n  for (var i = 0; i < size; i++) {\n    r = img[4 * i];\n    g = img[4 * i + 1];\n    b = img[4 * i + 2];\n    max = r >= g && r >= b ? r : g >= b && g >= r ? g : b;\n    out[i] = max << 8;\n  }\n\n  return out;\n}\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  var v1, v2, vmul;\n  var diff, iTimes4;\n\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var brightness = hsv_v16(img, width, height);\n  var blured = new Uint16Array(brightness); // copy, because blur modify src\n\n  glur_mono16(blured, width, height, radius);\n  var amountFp = amount / 100 * 0x1000 + 0.5 | 0;\n  var thresholdFp = threshold << 8;\n  var size = width * height;\n  /* eslint-disable indent */\n\n  for (var i = 0; i < size; i++) {\n    v1 = brightness[i];\n    diff = v1 - blured[i];\n\n    if (Math.abs(diff) >= thresholdFp) {\n      // add unsharp mask to the brightness channel\n      v2 = v1 + (amountFp * diff + 0x800 >> 12); // Both v1 and v2 are within [0.0 .. 255.0] (0000-FF00) range, never going into\n      // [255.003 .. 255.996] (FF01-FFFF). This allows to round this value as (x+.5)|0\n      // later without overflowing.\n\n      v2 = v2 > 0xff00 ? 0xff00 : v2;\n      v2 = v2 < 0x0000 ? 0x0000 : v2; // Avoid division by 0. V=0 means rgb(0,0,0), unsharp with unsharpAmount>0 cannot\n      // change this value (because diff between colors gets inflated), so no need to verify correctness.\n\n      v1 = v1 !== 0 ? v1 : 1; // Multiplying V in HSV model by a constant is equivalent to multiplying each component\n      // in RGB by the same constant (same for HSL), see also:\n      // https://beesbuzz.biz/code/16-hsv-color-transforms\n\n      vmul = (v2 << 12) / v1 | 0; // Result will be in [0..255] range because:\n      //  - all numbers are positive\n      //  - r,g,b <= (v1/256)\n      //  - r,g,b,(v1/256),(v2/256) <= 255\n      // So highest this number can get is X*255/X+0.5=255.5 which is < 256 and rounds down.\n\n      iTimes4 = i * 4;\n      img[iTimes4] = img[iTimes4] * vmul + 0x800 >> 12; // R\n\n      img[iTimes4 + 1] = img[iTimes4 + 1] * vmul + 0x800 >> 12; // G\n\n      img[iTimes4 + 2] = img[iTimes4 + 2] * vmul + 0x800 >> 12; // B\n    }\n  }\n};\n\n},{\"glur/mono16\":18}],11:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var pixels = width * height;\n  var img_bytes_cnt = pixels * 4;\n  var hsv_bytes_cnt = pixels * 2;\n  var blur_bytes_cnt = pixels * 2;\n  var blur_line_byte_cnt = Math.max(width, height) * 4; // float32 array\n\n  var blur_coeffs_byte_cnt = 8 * 4; // float32 array\n\n  var img_offset = 0;\n  var hsv_offset = img_bytes_cnt;\n  var blur_offset = hsv_offset + hsv_bytes_cnt;\n  var blur_tmp_offset = blur_offset + blur_bytes_cnt;\n  var blur_line_offset = blur_tmp_offset + blur_bytes_cnt;\n  var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;\n\n  var instance = this.__instance('unsharp_mask', img_bytes_cnt + hsv_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt, {\n    exp: Math.exp\n  }); // 32-bit copy is much faster in chrome\n\n\n  var img32 = new Uint32Array(img.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer);\n  mem32.set(img32); // HSL\n\n  var fn = instance.exports.hsv_v16 || instance.exports._hsv_v16;\n  fn(img_offset, hsv_offset, width, height); // BLUR\n\n  fn = instance.exports.blurMono16 || instance.exports._blurMono16;\n  fn(hsv_offset, blur_offset, blur_tmp_offset, blur_line_offset, blur_coeffs_offset, width, height, radius); // UNSHARP\n\n  fn = instance.exports.unsharp || instance.exports._unsharp;\n  fn(img_offset, img_offset, hsv_offset, blur_offset, width, height, amount, threshold); // 32-bit copy is much faster in chrome\n\n  img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));\n};\n\n},{}],12:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],13:[function(_dereq_,module,exports){\n'use strict';\n\nvar GC_INTERVAL = 100;\n\nfunction Pool(create, idle) {\n  this.create = create;\n  this.available = [];\n  this.acquired = {};\n  this.lastId = 1;\n  this.timeoutId = 0;\n  this.idle = idle || 2000;\n}\n\nPool.prototype.acquire = function () {\n  var _this = this;\n\n  var resource;\n\n  if (this.available.length !== 0) {\n    resource = this.available.pop();\n  } else {\n    resource = this.create();\n    resource.id = this.lastId++;\n\n    resource.release = function () {\n      return _this.release(resource);\n    };\n  }\n\n  this.acquired[resource.id] = resource;\n  return resource;\n};\n\nPool.prototype.release = function (resource) {\n  var _this2 = this;\n\n  delete this.acquired[resource.id];\n  resource.lastUsed = Date.now();\n  this.available.push(resource);\n\n  if (this.timeoutId === 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this2.gc();\n    }, GC_INTERVAL);\n  }\n};\n\nPool.prototype.gc = function () {\n  var _this3 = this;\n\n  var now = Date.now();\n  this.available = this.available.filter(function (resource) {\n    if (now - resource.lastUsed > _this3.idle) {\n      resource.destroy();\n      return false;\n    }\n\n    return true;\n  });\n\n  if (this.available.length !== 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this3.gc();\n    }, GC_INTERVAL);\n  } else {\n    this.timeoutId = 0;\n  }\n};\n\nmodule.exports = Pool;\n\n},{}],14:[function(_dereq_,module,exports){\n// Add intermediate resizing steps when scaling down by a very large factor.\n//\n// For example, when resizing 10000x10000 down to 10x10, it'll resize it to\n// 300x300 first.\n//\n// It's needed because tiler has issues when the entire tile is scaled down\n// to a few pixels (1024px source tile with border size 3 should result in\n// at least 3+3+2 = 8px target tile, so max scale factor is 128 here).\n//\n// Also, adding intermediate steps can speed up processing if we use lower\n// quality algorithms for first stages.\n//\n'use strict'; // min size = 0 results in infinite loop,\n// min size = 1 can consume large amount of memory\n\nvar MIN_INNER_TILE_SIZE = 2;\n\nmodule.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {\n  var scaleX = toWidth / fromWidth;\n  var scaleY = toHeight / fromHeight; // derived from createRegions equation:\n  // innerTileWidth = pixelFloor(srcTileSize * scaleX) - 2 * destTileBorder;\n\n  var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize; // refuse to scale image multiple times by less than twice each time,\n  // it could only happen because of invalid options\n\n  if (minScale > 0.5) return [[toWidth, toHeight]];\n  var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale)); // no additional resizes are necessary,\n  // stageCount can be zero or be negative when enlarging the image\n\n  if (stageCount <= 1) return [[toWidth, toHeight]];\n  var result = [];\n\n  for (var i = 0; i < stageCount; i++) {\n    var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i - 1) * Math.pow(toWidth, i + 1), 1 / stageCount));\n    var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i - 1) * Math.pow(toHeight, i + 1), 1 / stageCount));\n    result.push([width, height]);\n  }\n\n  return result;\n};\n\n},{}],15:[function(_dereq_,module,exports){\n// Split original image into multiple 1024x1024 chunks to reduce memory usage\n// (images have to be unpacked into typed arrays for resizing) and allow\n// parallel processing of multiple tiles at a time.\n//\n'use strict';\n/*\n * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n * functions which take into account floating point arithmetic errors.\n * Those errors can cause undesired increments/decrements of sizes and offsets:\n * Math.ceil(36 / (36 / 500)) = 501\n * pixelCeil(36 / (36 / 500)) = 500\n */\n\nvar PIXEL_EPSILON = 1e-5;\n\nfunction pixelFloor(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.floor(x);\n}\n\nfunction pixelCeil(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.ceil(x);\n}\n\nmodule.exports = function createRegions(options) {\n  var scaleX = options.toWidth / options.width;\n  var scaleY = options.toHeight / options.height;\n  var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n  var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder; // prevent infinite loop, this should never happen\n\n  if (innerTileWidth < 1 || innerTileHeight < 1) {\n    throw new Error('Internal error in pica: target tile width/height is too small.');\n  }\n\n  var x, y;\n  var innerX, innerY, toTileWidth, toTileHeight;\n  var tiles = [];\n  var tile; // we go top-to-down instead of left-to-right to make image displayed from top to\n  // doesn in the browser\n\n  for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n    for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n      x = innerX - options.destTileBorder;\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n\n      if (x + toTileWidth >= options.toWidth) {\n        toTileWidth = options.toWidth - x;\n      }\n\n      y = innerY - options.destTileBorder;\n\n      if (y < 0) {\n        y = 0;\n      }\n\n      toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n\n      if (y + toTileHeight >= options.toHeight) {\n        toTileHeight = options.toHeight - y;\n      }\n\n      tile = {\n        toX: x,\n        toY: y,\n        toWidth: toTileWidth,\n        toHeight: toTileHeight,\n        toInnerX: innerX,\n        toInnerY: innerY,\n        toInnerWidth: innerTileWidth,\n        toInnerHeight: innerTileHeight,\n        offsetX: x / scaleX - pixelFloor(x / scaleX),\n        offsetY: y / scaleY - pixelFloor(y / scaleY),\n        scaleX: scaleX,\n        scaleY: scaleY,\n        x: pixelFloor(x / scaleX),\n        y: pixelFloor(y / scaleY),\n        width: pixelCeil(toTileWidth / scaleX),\n        height: pixelCeil(toTileHeight / scaleY)\n      };\n      tiles.push(tile);\n    }\n  }\n\n  return tiles;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nfunction objClass(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nmodule.exports.isCanvas = function isCanvas(element) {\n  var cname = objClass(element);\n  return cname === '[object HTMLCanvasElement]'\n  /* browser */\n  || cname === '[object OffscreenCanvas]' || cname === '[object Canvas]'\n  /* node-canvas */\n  ;\n};\n\nmodule.exports.isImage = function isImage(element) {\n  return objClass(element) === '[object HTMLImageElement]';\n};\n\nmodule.exports.isImageBitmap = function isImageBitmap(element) {\n  return objClass(element) === '[object ImageBitmap]';\n};\n\nmodule.exports.limiter = function limiter(concurrency) {\n  var active = 0,\n      queue = [];\n\n  function roll() {\n    if (active < concurrency && queue.length) {\n      active++;\n      queue.shift()();\n    }\n  }\n\n  return function limit(fn) {\n    return new Promise(function (resolve, reject) {\n      queue.push(function () {\n        fn().then(function (result) {\n          resolve(result);\n          active--;\n          roll();\n        }, function (err) {\n          reject(err);\n          active--;\n          roll();\n        });\n      });\n      roll();\n    });\n  };\n};\n\nmodule.exports.cib_quality_name = function cib_quality_name(num) {\n  switch (num) {\n    case 0:\n      return 'pixelated';\n\n    case 1:\n      return 'low';\n\n    case 2:\n      return 'medium';\n  }\n\n  return 'high';\n};\n\nmodule.exports.cib_support = function cib_support(createCanvas) {\n  return Promise.resolve().then(function () {\n    if (typeof createImageBitmap === 'undefined') {\n      return false;\n    }\n\n    var c = createCanvas(100, 100);\n    return createImageBitmap(c, 0, 0, 100, 100, {\n      resizeWidth: 10,\n      resizeHeight: 10,\n      resizeQuality: 'high'\n    }).then(function (bitmap) {\n      var status = bitmap.width === 10; // Branch below is filtered on upper level. We do not call resize\n      // detection for basic ImageBitmap.\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n      // old Crome 51 has ImageBitmap without .close(). Then this code\n      // will throw and return 'false' as expected.\n      //\n\n      bitmap.close();\n      c = null;\n      return status;\n    });\n  })[\"catch\"](function () {\n    return false;\n  });\n};\n\nmodule.exports.worker_offscreen_canvas_support = function worker_offscreen_canvas_support() {\n  return new Promise(function (resolve, reject) {\n    if (typeof OffscreenCanvas === 'undefined') {\n      // if OffscreenCanvas is present, we assume browser supports Worker and built-in Promise as well\n      resolve(false);\n      return;\n    }\n\n    function workerPayload(self) {\n      if (typeof createImageBitmap === 'undefined') {\n        self.postMessage(false);\n        return;\n      }\n\n      Promise.resolve().then(function () {\n        var canvas = new OffscreenCanvas(10, 10); // test that 2d context can be used in worker\n\n        var ctx = canvas.getContext('2d');\n        ctx.rect(0, 0, 1, 1); // test that cib can be used to return image bitmap from worker\n\n        return createImageBitmap(canvas, 0, 0, 1, 1);\n      }).then(function () {\n        return self.postMessage(true);\n      }, function () {\n        return self.postMessage(false);\n      });\n    }\n\n    var code = btoa(\"(\".concat(workerPayload.toString(), \")(self);\"));\n    var w = new Worker(\"data:text/javascript;base64,\".concat(code));\n\n    w.onmessage = function (ev) {\n      return resolve(ev.data);\n    };\n\n    w.onerror = reject;\n  }).then(function (result) {\n    return result;\n  }, function () {\n    return false;\n  });\n}; // Check if canvas.getContext('2d').getImageData can be used,\n// FireFox randomizes the output of that function in `privacy.resistFingerprinting` mode\n\n\nmodule.exports.can_use_canvas = function can_use_canvas(createCanvas) {\n  var usable = false;\n\n  try {\n    var canvas = createCanvas(2, 1);\n    var ctx = canvas.getContext('2d');\n    var d = ctx.createImageData(2, 1);\n    d.data[0] = 12;\n    d.data[1] = 23;\n    d.data[2] = 34;\n    d.data[3] = 255;\n    d.data[4] = 45;\n    d.data[5] = 56;\n    d.data[6] = 67;\n    d.data[7] = 255;\n    ctx.putImageData(d, 0, 0);\n    d = null;\n    d = ctx.getImageData(0, 0, 2, 1);\n\n    if (d.data[0] === 12 && d.data[1] === 23 && d.data[2] === 34 && d.data[3] === 255 && d.data[4] === 45 && d.data[5] === 56 && d.data[6] === 67 && d.data[7] === 255) {\n      usable = true;\n    }\n  } catch (err) {}\n\n  return usable;\n}; // Check if createImageBitmap(img, sx, sy, sw, sh) signature works correctly\n// with JPEG images oriented with Exif;\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n// TODO: remove after it's fixed in chrome for at least 2 releases\n\n\nmodule.exports.cib_can_use_region = function cib_can_use_region() {\n  return new Promise(function (resolve) {\n    // `Image` check required for use in `ServiceWorker`\n    if (typeof Image === 'undefined' || typeof createImageBitmap === 'undefined') {\n      resolve(false);\n      return;\n    }\n\n    var image = new Image();\n    image.src = 'data:image/jpeg;base64,' + '/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAA' + 'AABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9' + 'sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRc' + 'ZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoa' + 'GhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRA' + 'f/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAA' + 'IQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAA' + 'AAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIB' + 'AT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAA' + 'AAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAA' + 'AAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQ' + 'QAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z';\n\n    image.onload = function () {\n      createImageBitmap(image, 0, 0, image.width, image.height).then(function (bitmap) {\n        if (bitmap.width === image.width && bitmap.height === image.height) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      }, function () {\n        return resolve(false);\n      });\n    };\n\n    image.onerror = function () {\n      return resolve(false);\n    };\n  });\n};\n\n},{}],17:[function(_dereq_,module,exports){\n// Web Worker wrapper for image resize function\n'use strict';\n\nmodule.exports = function () {\n  var MathLib = _dereq_('./mathlib');\n\n  var mathLib;\n  /* eslint-disable no-undef */\n\n  onmessage = function onmessage(ev) {\n    var tileOpts = ev.data.opts;\n    var returnBitmap = false;\n\n    if (!tileOpts.src && tileOpts.srcBitmap) {\n      var canvas = new OffscreenCanvas(tileOpts.width, tileOpts.height);\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(tileOpts.srcBitmap, 0, 0);\n      tileOpts.src = ctx.getImageData(0, 0, tileOpts.width, tileOpts.height).data;\n      canvas.width = canvas.height = 0;\n      canvas = null;\n      tileOpts.srcBitmap.close();\n      tileOpts.srcBitmap = null; // Temporary force out data to typed array, because Chrome have artefacts\n      // https://github.com/nodeca/pica/issues/223\n      // returnBitmap = true;\n    }\n\n    if (!mathLib) mathLib = new MathLib(ev.data.features); // Use multimath's sync auto-init. Avoid Promise use in old browsers,\n    // because polyfills are not propagated to webworker.\n\n    var data = mathLib.resizeAndUnsharp(tileOpts);\n\n    if (returnBitmap) {\n      var toImageData = new ImageData(new Uint8ClampedArray(data), tileOpts.toWidth, tileOpts.toHeight);\n\n      var _canvas = new OffscreenCanvas(tileOpts.toWidth, tileOpts.toHeight);\n\n      var _ctx = _canvas.getContext('2d');\n\n      _ctx.putImageData(toImageData, 0, 0);\n\n      createImageBitmap(_canvas).then(function (bitmap) {\n        postMessage({\n          bitmap: bitmap\n        }, [bitmap]);\n      });\n    } else {\n      postMessage({\n        data: data\n      }, [data.buffer]);\n    }\n  };\n};\n\n},{\"./mathlib\":1}],18:[function(_dereq_,module,exports){\n// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\nvar a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\nfunction gaussCoef(sigma) {\n  if (sigma < 0.5) {\n    sigma = 0.5;\n  }\n\n  var a = Math.exp(0.726 * 0.726) / sigma,\n      g1 = Math.exp(-a),\n      g2 = Math.exp(-2 * a),\n      k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n  a0 = k;\n  a1 = k * (a - 1) * g1;\n  a2 = k * (a + 1) * g1;\n  a3 = -k * g2;\n  b1 = 2 * g1;\n  b2 = -g2;\n  left_corner = (a0 + a1) / (1 - b1 - b2);\n  right_corner = (a2 + a3) / (1 - b1 - b2);\n\n  // Attempt to force type to FP32.\n  return new Float32Array([ a0, a1, a2, a3, b1, b2, left_corner, right_corner ]);\n}\n\nfunction convolveMono16(src, out, line, coeff, width, height) {\n  // takes src image and writes the blurred and transposed result into out\n\n  var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n  var src_index, out_index, line_index;\n  var i, j;\n  var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n  for (i = 0; i < height; i++) {\n    src_index = i * width;\n    out_index = i;\n    line_index = 0;\n\n    // left to right\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[6];\n    prev_out = prev_prev_out;\n\n    coeff_a0 = coeff[0];\n    coeff_a1 = coeff[1];\n    coeff_b1 = coeff[4];\n    coeff_b2 = coeff[5];\n\n    for (j = 0; j < width; j++) {\n      curr_src = src[src_index];\n\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n      prev_src = curr_src;\n\n      line[line_index] = prev_out;\n      line_index++;\n      src_index++;\n    }\n\n    src_index--;\n    line_index--;\n    out_index += height * (width - 1);\n\n    // right to left\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[7];\n    prev_out = prev_prev_out;\n    curr_src = prev_src;\n\n    coeff_a0 = coeff[2];\n    coeff_a1 = coeff[3];\n\n    for (j = width - 1; j >= 0; j--) {\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n\n      prev_src = curr_src;\n      curr_src = src[src_index];\n\n      out[out_index] = line[line_index] + prev_out;\n\n      src_index--;\n      line_index--;\n      out_index -= height;\n    }\n  }\n}\n\n\nfunction blurMono16(src, width, height, radius) {\n  // Quick exit on zero radius\n  if (!radius) { return; }\n\n  var out      = new Uint16Array(src.length),\n      tmp_line = new Float32Array(Math.max(width, height));\n\n  var coeff = gaussCoef(radius);\n\n  convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n  convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n}\n\nmodule.exports = blurMono16;\n\n},{}],19:[function(_dereq_,module,exports){\n'use strict';\n\n\nvar assign         = _dereq_('object-assign');\nvar base64decode   = _dereq_('./lib/base64decode');\nvar hasWebAssembly = _dereq_('./lib/wa_detect');\n\n\nvar DEFAULT_OPTIONS = {\n  js: true,\n  wasm: true\n};\n\n\nfunction MultiMath(options) {\n  if (!(this instanceof MultiMath)) return new MultiMath(options);\n\n  var opts = assign({}, DEFAULT_OPTIONS, options || {});\n\n  this.options         = opts;\n\n  this.__cache         = {};\n\n  this.__init_promise  = null;\n  this.__modules       = opts.modules || {};\n  this.__memory        = null;\n  this.__wasm          = {};\n\n  this.__isLE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n\n  if (!this.options.js && !this.options.wasm) {\n    throw new Error('mathlib: at least \"js\" or \"wasm\" should be enabled');\n  }\n}\n\n\nMultiMath.prototype.has_wasm = hasWebAssembly;\n\n\nMultiMath.prototype.use = function (module) {\n  this.__modules[module.name] = module;\n\n  // Pin the best possible implementation\n  if (this.options.wasm && this.has_wasm() && module.wasm_fn) {\n    this[module.name] = module.wasm_fn;\n  } else {\n    this[module.name] = module.fn;\n  }\n\n  return this;\n};\n\n\nMultiMath.prototype.init = function () {\n  if (this.__init_promise) return this.__init_promise;\n\n  if (!this.options.js && this.options.wasm && !this.has_wasm()) {\n    return Promise.reject(new Error('mathlib: only \"wasm\" was enabled, but it\\'s not supported'));\n  }\n\n  var self = this;\n\n  this.__init_promise = Promise.all(Object.keys(self.__modules).map(function (name) {\n    var module = self.__modules[name];\n\n    if (!self.options.wasm || !self.has_wasm() || !module.wasm_fn) return null;\n\n    // If already compiled - exit\n    if (self.__wasm[name]) return null;\n\n    // Compile wasm source\n    return WebAssembly.compile(self.__base64decode(module.wasm_src))\n      .then(function (m) { self.__wasm[name] = m; });\n  }))\n    .then(function () { return self; });\n\n  return this.__init_promise;\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Methods below are for internal use from plugins\n\n\n// Simple decode base64 to typed array. Useful to load embedded webassembly\n// code. You probably don't need to call this method directly.\n//\nMultiMath.prototype.__base64decode = base64decode;\n\n\n// Increase current memory to include specified number of bytes. Do nothing if\n// size is already ok. You probably don't need to call this method directly,\n// because it will be invoked from `.__instance()`.\n//\nMultiMath.prototype.__reallocate = function mem_grow_to(bytes) {\n  if (!this.__memory) {\n    this.__memory = new WebAssembly.Memory({\n      initial: Math.ceil(bytes / (64 * 1024))\n    });\n    return this.__memory;\n  }\n\n  var mem_size = this.__memory.buffer.byteLength;\n\n  if (mem_size < bytes) {\n    this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));\n  }\n\n  return this.__memory;\n};\n\n\n// Returns instantinated webassembly item by name, with specified memory size\n// and environment.\n// - use cache if available\n// - do sync module init, if async init was not called earlier\n// - allocate memory if not enougth\n// - can export functions to webassembly via \"env_extra\",\n//   for example, { exp: Math.exp }\n//\nMultiMath.prototype.__instance = function instance(name, memsize, env_extra) {\n  if (memsize) this.__reallocate(memsize);\n\n  // If .init() was not called, do sync compile\n  if (!this.__wasm[name]) {\n    var module = this.__modules[name];\n    this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module.wasm_src));\n  }\n\n  if (!this.__cache[name]) {\n    var env_base = {\n      memoryBase: 0,\n      memory: this.__memory,\n      tableBase: 0,\n      table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n    };\n\n    this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {\n      env: assign(env_base, env_extra || {})\n    });\n  }\n\n  return this.__cache[name];\n};\n\n\n// Helper to calculate memory aligh for pointers. Webassembly does not require\n// this, but you may wish to experiment. Default base = 8;\n//\nMultiMath.prototype.__align = function align(number, base) {\n  base = base || 8;\n  var reminder = number % base;\n  return number + (reminder ? base - reminder : 0);\n};\n\n\nmodule.exports = MultiMath;\n\n},{\"./lib/base64decode\":20,\"./lib/wa_detect\":21,\"object-assign\":22}],20:[function(_dereq_,module,exports){\n// base64 decode str -> Uint8Array, to load WA modules\n//\n'use strict';\n\n\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\nmodule.exports = function base64decode(str) {\n  var input = str.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max   = input.length;\n\n  var out = new Uint8Array((max * 3) >> 2);\n\n  // Collect by 6*4 bits (3 bytes)\n\n  var bits = 0;\n  var ptr  = 0;\n\n  for (var idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      out[ptr++] = (bits >> 16) & 0xFF;\n      out[ptr++] = (bits >> 8) & 0xFF;\n      out[ptr++] = bits & 0xFF;\n    }\n\n    bits = (bits << 6) | BASE64_MAP.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  var tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    out[ptr++] = (bits >> 16) & 0xFF;\n    out[ptr++] = (bits >> 8) & 0xFF;\n    out[ptr++] = bits & 0xFF;\n  } else if (tailbits === 18) {\n    out[ptr++] = (bits >> 10) & 0xFF;\n    out[ptr++] = (bits >> 2) & 0xFF;\n  } else if (tailbits === 12) {\n    out[ptr++] = (bits >> 4) & 0xFF;\n  }\n\n  return out;\n};\n\n},{}],21:[function(_dereq_,module,exports){\n// Detect WebAssembly support.\n// - Check global WebAssembly object\n// - Try to load simple module (can be disabled via CSP)\n//\n'use strict';\n\n\nvar wa;\n\n\nmodule.exports = function hasWebAssembly() {\n  // use cache if called before;\n  if (typeof wa !== 'undefined') return wa;\n\n  wa = false;\n\n  if (typeof WebAssembly === 'undefined') return wa;\n\n  // If WebAssenbly is disabled, code can throw on compile\n  try {\n    // https://github.com/brion/min-wasm-fail/blob/master/min-wasm-fail.in.js\n    // Additional check that WA internals are correct\n\n    /* eslint-disable comma-spacing, max-len */\n    var bin      = new Uint8Array([ 0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11 ]);\n    var module   = new WebAssembly.Module(bin);\n    var instance = new WebAssembly.Instance(module, {});\n\n    // test storing to and loading from a non-zero location via a parameter.\n    // Safari on iOS 11.2.5 returns 0 unexpectedly at non-zero locations\n    if (instance.exports.test(4) !== 0) wa = true;\n\n    return wa;\n  } catch (__) {}\n\n  return wa;\n};\n\n},{}],22:[function(_dereq_,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],23:[function(_dereq_,module,exports){\nvar bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n\n},{}],\"/index.js\":[function(_dereq_,module,exports){\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = _dereq_('object-assign');\n\nvar webworkify = _dereq_('webworkify');\n\nvar MathLib = _dereq_('./lib/mathlib');\n\nvar Pool = _dereq_('./lib/pool');\n\nvar utils = _dereq_('./lib/utils');\n\nvar worker = _dereq_('./lib/worker');\n\nvar createStages = _dereq_('./lib/stepper');\n\nvar createRegions = _dereq_('./lib/tiler');\n\nvar filter_info = _dereq_('./lib/mm_resize/resize_filter_info'); // Deduplicate pools & limiters with the same configs\n// when user creates multiple pica instances.\n\n\nvar singletones = {};\nvar NEED_SAFARI_FIX = false;\n\ntry {\n  if (typeof navigator !== 'undefined' && navigator.userAgent) {\n    NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') >= 0;\n  }\n} catch (e) {}\n\nvar concurrency = 1;\n\nif (typeof navigator !== 'undefined') {\n  concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);\n}\n\nvar DEFAULT_PICA_OPTS = {\n  tile: 1024,\n  concurrency: concurrency,\n  features: ['js', 'wasm', 'ww'],\n  idle: 2000,\n  createCanvas: function createCanvas(width, height) {\n    var tmpCanvas = document.createElement('canvas');\n    tmpCanvas.width = width;\n    tmpCanvas.height = height;\n    return tmpCanvas;\n  }\n};\nvar DEFAULT_RESIZE_OPTS = {\n  filter: 'mks2013',\n  unsharpAmount: 0,\n  unsharpRadius: 0.0,\n  unsharpThreshold: 0\n};\nvar CAN_NEW_IMAGE_DATA = false;\nvar CAN_CREATE_IMAGE_BITMAP = false;\nvar CAN_USE_CANVAS_GET_IMAGE_DATA = false;\nvar CAN_USE_OFFSCREEN_CANVAS = false;\nvar CAN_USE_CIB_REGION_FOR_IMAGE = false;\n\nfunction workerFabric() {\n  return {\n    value: webworkify(worker),\n    destroy: function destroy() {\n      this.value.terminate();\n\n      if (typeof window !== 'undefined') {\n        var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n        if (url && url.revokeObjectURL && this.value.objectURL) {\n          url.revokeObjectURL(this.value.objectURL);\n        }\n      }\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// API methods\n\n\nfunction Pica(options) {\n  if (!(this instanceof Pica)) return new Pica(options);\n  this.options = assign({}, DEFAULT_PICA_OPTS, options || {});\n  var limiter_key = \"lk_\".concat(this.options.concurrency); // Share limiters to avoid multiple parallel workers when user creates\n  // multiple pica instances.\n\n  this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);\n  if (!singletones[limiter_key]) singletones[limiter_key] = this.__limit; // List of supported features, according to options & browser/node.js\n\n  this.features = {\n    js: false,\n    // pure JS implementation, can be disabled for testing\n    wasm: false,\n    // webassembly implementation for heavy functions\n    cib: false,\n    // resize via createImageBitmap (only FF at this moment)\n    ww: false // webworkers\n\n  };\n  this.__workersPool = null; // Store requested features for webworkers\n\n  this.__requested_features = [];\n  this.__mathlib = null;\n}\n\nPica.prototype.init = function () {\n  var _this = this;\n\n  if (this.__initPromise) return this.__initPromise; // Test if we can create ImageData without canvas and memory copy\n\n  if (typeof ImageData !== 'undefined' && typeof Uint8ClampedArray !== 'undefined') {\n    try {\n      /* eslint-disable no-new */\n      new ImageData(new Uint8ClampedArray(400), 10, 10);\n      CAN_NEW_IMAGE_DATA = true;\n    } catch (__) {}\n  } // ImageBitmap can be effective in 2 places:\n  //\n  // 1. Threaded jpeg unpack (basic)\n  // 2. Built-in resize (blocked due problem in chrome, see issue #89)\n  //\n  // For basic use we also need ImageBitmap wo support .close() method,\n  // see https://developer.mozilla.org/ru/docs/Web/API/ImageBitmap\n\n\n  if (typeof ImageBitmap !== 'undefined') {\n    if (ImageBitmap.prototype && ImageBitmap.prototype.close) {\n      CAN_CREATE_IMAGE_BITMAP = true;\n    } else {\n      this.debug('ImageBitmap does not support .close(), disabled');\n    }\n  }\n\n  var features = this.options.features.slice();\n\n  if (features.indexOf('all') >= 0) {\n    features = ['cib', 'wasm', 'js', 'ww'];\n  }\n\n  this.__requested_features = features;\n  this.__mathlib = new MathLib(features); // Check WebWorker support if requested\n\n  if (features.indexOf('ww') >= 0) {\n    if (typeof window !== 'undefined' && 'Worker' in window) {\n      // IE <= 11 don't allow to create webworkers from string. We should check it.\n      // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n      try {\n        var wkr = _dereq_('webworkify')(function () {});\n\n        wkr.terminate();\n        this.features.ww = true; // pool uniqueness depends on pool config + webworker config\n\n        var wpool_key = \"wp_\".concat(JSON.stringify(this.options));\n\n        if (singletones[wpool_key]) {\n          this.__workersPool = singletones[wpool_key];\n        } else {\n          this.__workersPool = new Pool(workerFabric, this.options.idle);\n          singletones[wpool_key] = this.__workersPool;\n        }\n      } catch (__) {}\n    }\n  }\n\n  var initMath = this.__mathlib.init().then(function (mathlib) {\n    // Copy detected features\n    assign(_this.features, mathlib.features);\n  });\n\n  var checkCibResize;\n\n  if (!CAN_CREATE_IMAGE_BITMAP) {\n    checkCibResize = Promise.resolve(false);\n  } else {\n    checkCibResize = utils.cib_support(this.options.createCanvas).then(function (status) {\n      if (_this.features.cib && features.indexOf('cib') < 0) {\n        _this.debug('createImageBitmap() resize supported, but disabled by config');\n\n        return;\n      }\n\n      if (features.indexOf('cib') >= 0) _this.features.cib = status;\n    });\n  }\n\n  CAN_USE_CANVAS_GET_IMAGE_DATA = utils.can_use_canvas(this.options.createCanvas);\n  var checkOffscreenCanvas;\n\n  if (CAN_CREATE_IMAGE_BITMAP && CAN_NEW_IMAGE_DATA && features.indexOf('ww') !== -1) {\n    checkOffscreenCanvas = utils.worker_offscreen_canvas_support();\n  } else {\n    checkOffscreenCanvas = Promise.resolve(false);\n  }\n\n  checkOffscreenCanvas = checkOffscreenCanvas.then(function (result) {\n    CAN_USE_OFFSCREEN_CANVAS = result;\n  }); // we use createImageBitmap to crop image data and pass it to workers,\n  // so need to check whether function works correctly;\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n\n  var checkCibRegion = utils.cib_can_use_region().then(function (result) {\n    CAN_USE_CIB_REGION_FOR_IMAGE = result;\n  }); // Init math lib. That's async because can load some\n\n  this.__initPromise = Promise.all([initMath, checkCibResize, checkOffscreenCanvas, checkCibRegion]).then(function () {\n    return _this;\n  });\n  return this.__initPromise;\n}; // Call resizer in webworker or locally, depending on config\n\n\nPica.prototype.__invokeResize = function (tileOpts, opts) {\n  var _this2 = this;\n\n  // Share cache between calls:\n  //\n  // - wasm instance\n  // - wasm memory object\n  //\n  opts.__mathCache = opts.__mathCache || {};\n  return Promise.resolve().then(function () {\n    if (!_this2.features.ww) {\n      // not possible to have ImageBitmap here if user disabled WW\n      return {\n        data: _this2.__mathlib.resizeAndUnsharp(tileOpts, opts.__mathCache)\n      };\n    }\n\n    return new Promise(function (resolve, reject) {\n      var w = _this2.__workersPool.acquire();\n\n      if (opts.cancelToken) opts.cancelToken[\"catch\"](function (err) {\n        return reject(err);\n      });\n\n      w.value.onmessage = function (ev) {\n        w.release();\n        if (ev.data.err) reject(ev.data.err);else resolve(ev.data);\n      };\n\n      var transfer = [];\n      if (tileOpts.src) transfer.push(tileOpts.src.buffer);\n      if (tileOpts.srcBitmap) transfer.push(tileOpts.srcBitmap);\n      w.value.postMessage({\n        opts: tileOpts,\n        features: _this2.__requested_features,\n        preload: {\n          wasm_nodule: _this2.__mathlib.__\n        }\n      }, transfer);\n    });\n  });\n}; // this function can return promise if createImageBitmap is used\n\n\nPica.prototype.__extractTileData = function (tile, from, opts, stageEnv, extractTo) {\n  if (this.features.ww && CAN_USE_OFFSCREEN_CANVAS && ( // createImageBitmap doesn't work for images (Image, ImageBitmap) with Exif orientation in Chrome,\n  // can use canvas because canvas doesn't have orientation;\n  // see https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n  utils.isCanvas(from) || CAN_USE_CIB_REGION_FOR_IMAGE)) {\n    this.debug('Create tile for OffscreenCanvas');\n    return createImageBitmap(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height).then(function (bitmap) {\n      extractTo.srcBitmap = bitmap;\n      return extractTo;\n    });\n  } // Extract tile RGBA buffer, depending on input type\n\n\n  if (utils.isCanvas(from)) {\n    if (!stageEnv.srcCtx) stageEnv.srcCtx = from.getContext('2d'); // If input is Canvas - extract region data directly\n\n    this.debug('Get tile pixel data');\n    extractTo.src = stageEnv.srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height).data;\n    return extractTo;\n  } // If input is Image or decoded to ImageBitmap,\n  // draw region to temporary canvas and extract data from it\n  //\n  // Note! Attempt to reuse this canvas causes significant slowdown in chrome\n  //\n\n\n  this.debug('Draw tile imageBitmap/image to temporary canvas');\n  var tmpCanvas = this.options.createCanvas(tile.width, tile.height);\n  var tmpCtx = tmpCanvas.getContext('2d');\n  tmpCtx.globalCompositeOperation = 'copy';\n  tmpCtx.drawImage(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n  this.debug('Get tile pixel data');\n  extractTo.src = tmpCtx.getImageData(0, 0, tile.width, tile.height).data; // Safari 12 workaround\n  // https://github.com/nodeca/pica/issues/199\n\n  tmpCanvas.width = tmpCanvas.height = 0;\n  return extractTo;\n};\n\nPica.prototype.__landTileData = function (tile, result, stageEnv) {\n  var toImageData;\n  this.debug('Convert raw rgba tile result to ImageData');\n\n  if (result.bitmap) {\n    stageEnv.toCtx.drawImage(result.bitmap, tile.toX, tile.toY);\n    return null;\n  }\n\n  if (CAN_NEW_IMAGE_DATA) {\n    // this branch is for modern browsers\n    // If `new ImageData()` & Uint8ClampedArray suported\n    toImageData = new ImageData(new Uint8ClampedArray(result.data), tile.toWidth, tile.toHeight);\n  } else {\n    // fallback for `node-canvas` and old browsers\n    // (IE11 has ImageData but does not support `new ImageData()`)\n    toImageData = stageEnv.toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n    if (toImageData.data.set) {\n      toImageData.data.set(result.data);\n    } else {\n      // IE9 don't have `.set()`\n      for (var i = toImageData.data.length - 1; i >= 0; i--) {\n        toImageData.data[i] = result.data[i];\n      }\n    }\n  }\n\n  this.debug('Draw tile');\n\n  if (NEED_SAFARI_FIX) {\n    // Safari draws thin white stripes between tiles without this fix\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n  } else {\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n  }\n\n  return null;\n};\n\nPica.prototype.__tileAndResize = function (from, to, opts) {\n  var _this3 = this;\n\n  var stageEnv = {\n    srcCtx: null,\n    srcImageBitmap: null,\n    isImageBitmapReused: false,\n    toCtx: null\n  };\n\n  var processTile = function processTile(tile) {\n    return _this3.__limit(function () {\n      if (opts.canceled) return opts.cancelToken;\n      var tileOpts = {\n        width: tile.width,\n        height: tile.height,\n        toWidth: tile.toWidth,\n        toHeight: tile.toHeight,\n        scaleX: tile.scaleX,\n        scaleY: tile.scaleY,\n        offsetX: tile.offsetX,\n        offsetY: tile.offsetY,\n        filter: opts.filter,\n        unsharpAmount: opts.unsharpAmount,\n        unsharpRadius: opts.unsharpRadius,\n        unsharpThreshold: opts.unsharpThreshold\n      };\n\n      _this3.debug('Invoke resize math');\n\n      return Promise.resolve(tileOpts).then(function (tileOpts) {\n        return _this3.__extractTileData(tile, from, opts, stageEnv, tileOpts);\n      }).then(function (tileOpts) {\n        _this3.debug('Invoke resize math');\n\n        return _this3.__invokeResize(tileOpts, opts);\n      }).then(function (result) {\n        if (opts.canceled) return opts.cancelToken;\n        stageEnv.srcImageData = null;\n        return _this3.__landTileData(tile, result, stageEnv);\n      });\n    });\n  }; // Need to normalize data source first. It can be canvas or image.\n  // If image - try to decode in background if possible\n\n\n  return Promise.resolve().then(function () {\n    stageEnv.toCtx = to.getContext('2d');\n    if (utils.isCanvas(from)) return null;\n\n    if (utils.isImageBitmap(from)) {\n      stageEnv.srcImageBitmap = from;\n      stageEnv.isImageBitmapReused = true;\n      return null;\n    }\n\n    if (utils.isImage(from)) {\n      // try do decode image in background for faster next operations;\n      // if we're using offscreen canvas, cib is called per tile, so not needed here\n      if (!CAN_CREATE_IMAGE_BITMAP) return null;\n\n      _this3.debug('Decode image via createImageBitmap');\n\n      return createImageBitmap(from).then(function (imageBitmap) {\n        stageEnv.srcImageBitmap = imageBitmap;\n      }) // Suppress error to use fallback, if method fails\n      // https://github.com/nodeca/pica/issues/190\n\n      /* eslint-disable no-unused-vars */\n      [\"catch\"](function (e) {\n        return null;\n      });\n    }\n\n    throw new Error('Pica: \".from\" should be Image, Canvas or ImageBitmap');\n  }).then(function () {\n    if (opts.canceled) return opts.cancelToken;\n\n    _this3.debug('Calculate tiles'); //\n    // Here we are with \"normalized\" source,\n    // follow to tiling\n    //\n\n\n    var regions = createRegions({\n      width: opts.width,\n      height: opts.height,\n      srcTileSize: _this3.options.tile,\n      toWidth: opts.toWidth,\n      toHeight: opts.toHeight,\n      destTileBorder: opts.__destTileBorder\n    });\n    var jobs = regions.map(function (tile) {\n      return processTile(tile);\n    });\n\n    function cleanup(stageEnv) {\n      if (stageEnv.srcImageBitmap) {\n        if (!stageEnv.isImageBitmapReused) stageEnv.srcImageBitmap.close();\n        stageEnv.srcImageBitmap = null;\n      }\n    }\n\n    _this3.debug('Process tiles');\n\n    return Promise.all(jobs).then(function () {\n      _this3.debug('Finished!');\n\n      cleanup(stageEnv);\n      return to;\n    }, function (err) {\n      cleanup(stageEnv);\n      throw err;\n    });\n  });\n};\n\nPica.prototype.__processStages = function (stages, from, to, opts) {\n  var _this4 = this;\n\n  if (opts.canceled) return opts.cancelToken;\n\n  var _stages$shift = stages.shift(),\n      _stages$shift2 = _slicedToArray(_stages$shift, 2),\n      toWidth = _stages$shift2[0],\n      toHeight = _stages$shift2[1];\n\n  var isLastStage = stages.length === 0; // Optimization for legacy filters -\n  // only use user-defined quality for the last stage,\n  // use simpler (Hamming) filter for the first stages where\n  // scale factor is large enough (more than 2-3)\n  //\n  // For advanced filters (mks2013 and custom) - skip optimization,\n  // because need to apply sharpening every time\n\n  var filter;\n  if (isLastStage || filter_info.q2f.indexOf(opts.filter) < 0) filter = opts.filter;else if (opts.filter === 'box') filter = 'box';else filter = 'hamming';\n  opts = assign({}, opts, {\n    toWidth: toWidth,\n    toHeight: toHeight,\n    filter: filter\n  });\n  var tmpCanvas;\n\n  if (!isLastStage) {\n    // create temporary canvas\n    tmpCanvas = this.options.createCanvas(toWidth, toHeight);\n  }\n\n  return this.__tileAndResize(from, isLastStage ? to : tmpCanvas, opts).then(function () {\n    if (isLastStage) return to;\n    opts.width = toWidth;\n    opts.height = toHeight;\n    return _this4.__processStages(stages, tmpCanvas, to, opts);\n  }).then(function (res) {\n    if (tmpCanvas) {\n      // Safari 12 workaround\n      // https://github.com/nodeca/pica/issues/199\n      tmpCanvas.width = tmpCanvas.height = 0;\n    }\n\n    return res;\n  });\n};\n\nPica.prototype.__resizeViaCreateImageBitmap = function (from, to, opts) {\n  var _this5 = this;\n\n  var toCtx = to.getContext('2d');\n  this.debug('Resize via createImageBitmap()');\n  return createImageBitmap(from, {\n    resizeWidth: opts.toWidth,\n    resizeHeight: opts.toHeight,\n    resizeQuality: utils.cib_quality_name(filter_info.f2q[opts.filter])\n  }).then(function (imageBitmap) {\n    if (opts.canceled) return opts.cancelToken; // if no unsharp - draw directly to output canvas\n\n    if (!opts.unsharpAmount) {\n      toCtx.drawImage(imageBitmap, 0, 0);\n      imageBitmap.close();\n      toCtx = null;\n\n      _this5.debug('Finished!');\n\n      return to;\n    }\n\n    _this5.debug('Unsharp result');\n\n    var tmpCanvas = _this5.options.createCanvas(opts.toWidth, opts.toHeight);\n\n    var tmpCtx = tmpCanvas.getContext('2d');\n    tmpCtx.drawImage(imageBitmap, 0, 0);\n    imageBitmap.close();\n    var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);\n\n    _this5.__mathlib.unsharp_mask(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);\n\n    toCtx.putImageData(iData, 0, 0); // Safari 12 workaround\n    // https://github.com/nodeca/pica/issues/199\n\n    tmpCanvas.width = tmpCanvas.height = 0;\n    iData = tmpCtx = tmpCanvas = toCtx = null;\n\n    _this5.debug('Finished!');\n\n    return to;\n  });\n};\n\nPica.prototype.resize = function (from, to, options) {\n  var _this6 = this;\n\n  this.debug('Start resize...');\n  var opts = assign({}, DEFAULT_RESIZE_OPTS);\n\n  if (!isNaN(options)) {\n    opts = assign(opts, {\n      quality: options\n    });\n  } else if (options) {\n    opts = assign(opts, options);\n  }\n\n  opts.toWidth = to.width;\n  opts.toHeight = to.height;\n  opts.width = from.naturalWidth || from.width;\n  opts.height = from.naturalHeight || from.height; // Legacy `.quality` option\n\n  if (Object.prototype.hasOwnProperty.call(opts, 'quality')) {\n    if (opts.quality < 0 || opts.quality > 3) {\n      throw new Error(\"Pica: .quality should be [0..3], got \".concat(opts.quality));\n    }\n\n    opts.filter = filter_info.q2f[opts.quality];\n  } // Prevent stepper from infinite loop\n\n\n  if (to.width === 0 || to.height === 0) {\n    return Promise.reject(new Error(\"Invalid output size: \".concat(to.width, \"x\").concat(to.height)));\n  }\n\n  if (opts.unsharpRadius > 2) opts.unsharpRadius = 2;\n  opts.canceled = false;\n\n  if (opts.cancelToken) {\n    // Wrap cancelToken to avoid successive resolve & set flag\n    opts.cancelToken = opts.cancelToken.then(function (data) {\n      opts.canceled = true;\n      throw data;\n    }, function (err) {\n      opts.canceled = true;\n      throw err;\n    });\n  }\n\n  var DEST_TILE_BORDER = 3; // Max possible filter window size\n\n  opts.__destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));\n  return this.init().then(function () {\n    if (opts.canceled) return opts.cancelToken; // if createImageBitmap supports resize, just do it and return\n\n    if (_this6.features.cib) {\n      if (filter_info.q2f.indexOf(opts.filter) >= 0) {\n        return _this6.__resizeViaCreateImageBitmap(from, to, opts);\n      }\n\n      _this6.debug('cib is enabled, but not supports provided filter, fallback to manual math');\n    }\n\n    if (!CAN_USE_CANVAS_GET_IMAGE_DATA) {\n      var err = new Error('Pica: cannot use getImageData on canvas, ' + \"make sure fingerprinting protection isn't enabled\");\n      err.code = 'ERR_GET_IMAGE_DATA';\n      throw err;\n    } //\n    // No easy way, let's resize manually via arrays\n    //\n\n\n    var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this6.options.tile, opts.__destTileBorder);\n    return _this6.__processStages(stages, from, to, opts);\n  });\n}; // RGBA buffer resize\n//\n\n\nPica.prototype.resizeBuffer = function (options) {\n  var _this7 = this;\n\n  var opts = assign({}, DEFAULT_RESIZE_OPTS, options); // Legacy `.quality` option\n\n  if (Object.prototype.hasOwnProperty.call(opts, 'quality')) {\n    if (opts.quality < 0 || opts.quality > 3) {\n      throw new Error(\"Pica: .quality should be [0..3], got \".concat(opts.quality));\n    }\n\n    opts.filter = filter_info.q2f[opts.quality];\n  }\n\n  return this.init().then(function () {\n    return _this7.__mathlib.resizeAndUnsharp(opts);\n  });\n};\n\nPica.prototype.toBlob = function (canvas, mimeType, quality) {\n  mimeType = mimeType || 'image/png';\n  return new Promise(function (resolve) {\n    if (canvas.toBlob) {\n      canvas.toBlob(function (blob) {\n        return resolve(blob);\n      }, mimeType, quality);\n      return;\n    }\n\n    if (canvas.convertToBlob) {\n      resolve(canvas.convertToBlob({\n        type: mimeType,\n        quality: quality\n      }));\n      return;\n    } // Fallback for old browsers\n\n\n    var asString = atob(canvas.toDataURL(mimeType, quality).split(',')[1]);\n    var len = asString.length;\n    var asBuffer = new Uint8Array(len);\n\n    for (var i = 0; i < len; i++) {\n      asBuffer[i] = asString.charCodeAt(i);\n    }\n\n    resolve(new Blob([asBuffer], {\n      type: mimeType\n    }));\n  });\n};\n\nPica.prototype.debug = function () {};\n\nmodule.exports = Pica;\n\n},{\"./lib/mathlib\":1,\"./lib/mm_resize/resize_filter_info\":7,\"./lib/pool\":13,\"./lib/stepper\":14,\"./lib/tiler\":15,\"./lib/utils\":16,\"./lib/worker\":17,\"object-assign\":22,\"webworkify\":23}]},{},[])(\"/index.js\")\n});\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":[],"version":3,"file":"index.0641b553.js.map","sourceRoot":"/__parcel_source_root/"}